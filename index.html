<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate icon" href="icone-cora√ß√£o.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <title>Lista de Casa Nova - Carla & Jeremias</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fff6f9;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      margin-top: 20px;
      font-size: 2rem;
      color: #f17d9a;
    }

    h2 {
      color: #f17d9a;
      margin: 0;
    }

    .icone-vc {
      font-family: 'Great Vibes', cursive;
      /* ou outra fonte rom√¢ntica */
      font-size: 48px;
      color: #f17d9a;
    }

   .intro {
    margin: 20px auto;
    padding: 20px;
    background: white;
    border-radius: 10px;
    width: 90%;
    max-width: 900px;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
    text-align: center;
    font-family: Arial, sans-serif;
}

.item-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* Sempre 3 colunas */
    gap: 20px;
}

.item h4 {
    font-weight: bold;
    border-bottom: 2px solid black;
    display: inline-block;
    padding-bottom: 3px;
}

.item p {
    margin: 8px 0;
    font-size: 16px;
    text-align: left;
}

.item i {
    color: black;
    margin-right: 6px;
}



    .presentes {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
    }

    .item {
      background-color: #ffe4eb;
      color: black;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      margin: 10px;
      padding: 15px;
      width: 230px;
      text-align: center;
      position: relative;
      margin-bottom: 20px;
    }

    .item h3 {
      margin-bottom: 40px;
      font-size: 1.2rem;
      color: #333;
    }

    .btn {
      background-color: #ff6f91;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      text-decoration: none;
    }

    .btn.finalizar {
      position: sticky;
      top: 0;
      background: #f17d9a;
      color: white;
      padding: 25px 20px;
      margin-bottom: 15px;
      z-index: 10;
      border: none;
      width: 100%;
      text-align: center;
      font-size: 1rem;
    }

    .btn:hover {
      background-color: #ff4f72;
    }

    .presenteado {
      opacity: 0.6;
    }

    .presenteado::after {
      content: "üéÅ J√° presenteado";
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #ccc;
      color: #333;
      padding: 5px 8px;
      border-radius: 6px;
      font-size: 0.8rem;
    }

    @media (max-width: 600px) {
      .item {
        width: 90%;
      }
    }
    @media (max-width: 600px) {
    .item-grid {
        grid-template-columns: 1fr; /* Uma coluna no mobile */
    }
}
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
</head>

<body>

  <h1>Lista de Casa Nova</h1>
  <h2 class="icone-vc">C ‚ù§Ô∏è J</h2>

  <div class="intro">
    <p>Estamos muito felizes em compartilhar este momento especial com voc√™s!<br>
      Abaixo est√£o alguns itens que gostar√≠amos de ter em nosso novo lar.</p>
    <label>Seu Nome Completo:</label><br>
    <input type="text" id="nome" placeholder="Digite seu nome e sobrenome"
      style="padding:15px; width:90%; max-width:350px; border-radius: 10px;"><br><br>

    <label>Seu Contato (WhatsApp ou telefone):</label><br>
    <input type="text" id="contato" placeholder="(DDD) 90000-0000"
      style="padding:15px; width:90%; max-width:350px; border-radius: 10px;"><br><br>

       <div class="item-grid">
        <div class="item">
            <h4><i class="fas fa-utensils"></i> LOU√áAS</h4>
            <p><i class="fas fa-check-circle"></i> Vidro</p>
            <p><i class="fas fa-check-circle"></i> Cer√¢mica</p>
            <p><i class="fas fa-check-circle"></i> Porcelana</p>
        </div>

        <div class="item">
            <h4><i class="fas fa-pot-food"></i> PANELAS</h4>
            <p><i class="fas fa-check-circle"></i> Alum√≠nio</p>
            <p><i class="fas fa-check-circle"></i> Cer√¢mica</p>
            <p><i class="fas fa-check-circle"></i> Teflon</p>
        </div>

        <div class="item">
            <h4><i class="fas fa-box"></i>MANTIMENTOS</h4>
            <p><i class="fas fa-check-circle"></i> Bambu</p>
            <p><i class="fas fa-check-circle"></i> Tupperware</p>
            <p><i class="fas fa-check-circle"></i> Acr√≠lico</p>
        </div>
    </div>

    
  </div>

  <div class="presentes" id="lista-presentes">
    <!-- Os presentes ser√£o carregados aqui -->
  </div>

  <script>
    const presentesURL = 'presentes.txt';
    const phoneNumber = '5585991900162';

    async function carregarPresentes() {
  const listaContainer = document.getElementById('lista-presentes');

  // Lista de itens que nunca ser√£o marcados como presenteados
  const excecoes = [
    "Pix",
    "Assadeiras",
    "Kit de bandejas",
    "Kit de formas para bolo",
    "Jarras para suco",
    "Jogo de copos de vidro",
    "Jogo de Panelas",
    "Aparelho de jantar",
    "Travessas",
    "Jogo de cama Queen"
  ].map(item => item.toLowerCase().trim());

  try {
    const resPresentes = await fetch(presentesURL);
    const resEntregues = await fetch(
      'https://script.google.com/macros/s/AKfycbwSwRP37Ca6hBMoU-oowbsduGNIf4AseB_52wHoNsGUFHa5NVI_R97S-bRFWYF-SH1v/exec'
    );

    const todosPresentes = (await resPresentes.text())
      .split('\n')
      .map(l => l.trim())
      .filter(l => l);

    const presentesEntregues = (await resEntregues.text()).split('\n').map(l => l.trim());

    todosPresentes.forEach((linha, i) => {
      const [nomePresente, descricao] = linha.split('|').map(item => item.trim());
      if (!nomePresente) return;

      const nomeLower = nomePresente.toLowerCase().trim();

      // S√≥ marca como presenteado se N√ÉO estiver na lista de exce√ß√µes
      const jaEntregue = 
        !excecoes.includes(nomeLower) &&
        presentesEntregues.some(p => p.toLowerCase().trim() === nomeLower);

      const div = document.createElement('div');
      div.classList.add('item');
      if (jaEntregue) div.classList.add('presenteado');

      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.value = nomePresente;
      checkbox.id = 'presente_' + i;
      checkbox.disabled = jaEntregue; // continua clic√°vel se for exce√ß√£o

      const label = document.createElement('label');
      label.setAttribute('for', 'presente_' + i);
      label.innerHTML = `<h3>${nomePresente}</h3><p>${descricao || ''}</p>`;

      div.appendChild(checkbox);
      div.appendChild(label);
      listaContainer.appendChild(div);
    });

    const finalizarBtn = document.createElement('button');
    finalizarBtn.textContent = 'Finalizar Sele√ß√£o';
    finalizarBtn.className = 'btn finalizar';
    finalizarBtn.onclick = enviarSelecionados;
    listaContainer.prepend(finalizarBtn);

  } catch (error) {
    console.error('Erro ao carregar presentes:', error);
    listaContainer.innerHTML = '<p>Erro ao carregar a lista de presentes.</p>';
  }
}

    function enviarSelecionados() {
      const nome = document.getElementById('nome').value.trim();
      const contato = document.getElementById('contato').value.trim();
      const checkboxes = document.querySelectorAll('#lista-presentes input[type="checkbox"]:checked');

      if (!nome || !contato) {
        alert('Informe seu nome e contato.');
        return;
      }

      if (checkboxes.length === 0) {
        alert('Selecione pelo menos um presente.');
        return;
      }

      const presentes = Array.from(checkboxes).map(cb => cb.value);
      const mensagem =
        `Ol√° Carla e Jeremias! Sou ${nome} (${contato}) e gostaria de presentear voc√™s com:\n\nüéÅ ${presentes.join('\nüéÅ ')}`;
      const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(mensagem)}`;

      // Abre WhatsApp
      window.open(url, '_blank');

      // Envia para a planilha via Apps Script
      presentes.forEach(presente => {
        fetch(
            `https://script.google.com/macros/s/AKfycbwSwRP37Ca6hBMoU-oowbsduGNIf4AseB_52wHoNsGUFHa5NVI_R97S-bRFWYF-SH1v/exec?nome=${encodeURIComponent(nome)}&presente=${encodeURIComponent(presente)}&contato=${encodeURIComponent(contato)}`
            )
          .then(res => res.text())
          .then(data => console.log('Resposta da planilha:', data))
          .catch(err => console.error('Erro ao enviar para planilha:', err));
      });
    }


    carregarPresentes();
  </script>
</body>

</html>




